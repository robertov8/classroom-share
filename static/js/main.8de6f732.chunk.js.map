{"version":3,"sources":["index.js","example/App.js","example/index.js"],"names":["GoogleShareToClassRoom","props","_this","Object","classCallCheck","this","_super","call","state","scriptLoaded","scriptError","window","___gcfg","parsetags","onShareCompleteInternal","bind","onShareStartInternal","nextProps","nextState","gapi","sharetoclassroom","go","_this$props","onShare","onShareComplete","_this$props2","onShareStart","setState","_this$props3","body","itemType","size","theme","title","url","hash","ObjectHash","react_default","a","createElement","key","lib_default","onCreate","handleScriptCreate","onError","handleScriptError","onLoad","handleScriptLoad","react_loading_skeleton_lib_default","height","width","duration","className","data-body","data-itemtype","data-onsharecomplete","data-onsharestart","data-size","data-theme","data-title","data-url","Component","defaultProps","App","_useState","useState","_useState2","slicedToArray","classroom","setClassroom","onSubmit","e","preventDefault","formData","FormData","target","get","Number","htmlFor","type","id","name","placeholder","defaultValue","value","src","console","log","concat","ReactDOM","render","example_App","document","getElementById"],"mappings":"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","file":"static/js/main.8de6f732.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Script from 'react-load-script';\nimport ObjectHash from 'object-hash';\nimport Skeleton from 'react-loading-skeleton';\n\nconst propTypes = {\n  body: PropTypes.string,\n  itemType: PropTypes.oneOf([\n    'announcement',\n    'assignment',\n    'material',\n    'question',\n  ]),\n  onShare: PropTypes.func,\n  onShareComplete: PropTypes.func,\n  onShareStart: PropTypes.func,\n  size: PropTypes.number,\n  theme: PropTypes.oneOf(['classic', 'dark', 'light']),\n  title: PropTypes.string,\n  url: PropTypes.string,\n};\n\nconst defaultProps = {\n  key: null,\n  body: null,\n  itemType: null,\n  onShare: () => {},\n  onShareComplete: () => {},\n  onShareStart: () => {},\n  size: 32,\n  theme: 'classic',\n  title: null,\n  url: null,\n};\n\nclass GoogleShareToClassRoom extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      scriptLoaded: false,\n      scriptError: false,\n    };\n  }\n\n  componentDidMount() {\n    // eslint-disable-next-line no-underscore-dangle\n    window.___gcfg = { parsetags: 'explicit' };\n\n    window.onShareCompleteInternal = this.onShareCompleteInternal.bind(this);\n    window.onShareStartInternal = this.onShareStartInternal.bind(this);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState.scriptLoaded && !nextState.scriptError) {\n      window.gapi.sharetoclassroom.go('content');\n      return true;\n    }\n\n    return false;\n  }\n\n  onShareCompleteInternal() {\n    const { onShare, onShareComplete } = this.props;\n\n    onShare('complete');\n    onShareComplete();\n  }\n\n  onShareStartInternal() {\n    const { onShare, onShareStart } = this.props;\n\n    onShare('start');\n    onShareStart();\n  }\n\n  handleScriptCreate() {\n    this.setState({ scriptLoaded: false });\n  }\n\n  handleScriptError() {\n    this.setState({ scriptLoaded: false });\n  }\n\n  handleScriptLoad() {\n    this.setState({ scriptLoaded: true });\n  }\n\n  render() {\n    const { scriptLoaded } = this.state;\n    const {\n      body, itemType, size, theme, title, url,\n    } = this.props;\n\n    const hash = ObjectHash({\n      body, itemType, size, theme, title, url,\n    });\n\n    return (\n      <div key={hash}>\n        <Script\n          url=\"https://apis.google.com/js/platform.js\"\n          onCreate={this.handleScriptCreate.bind(this)}\n          onError={this.handleScriptError.bind(this)}\n          onLoad={this.handleScriptLoad.bind(this)}\n        />\n\n        {!scriptLoaded && (\n          <Skeleton\n            height={size}\n            width={size}\n            duration={20}\n          />\n        )}\n\n        <div\n          className=\"g-sharetoclassroom\"\n          data-body={body}\n          data-itemtype={itemType}\n          data-onsharecomplete=\"onShareCompleteInternal\"\n          data-onsharestart=\"onShareStartInternal\"\n          data-size={size}\n          data-theme={theme}\n          data-title={title}\n          data-url={url}\n        />\n      </div>\n    );\n  }\n}\n\nGoogleShareToClassRoom.propTypes = propTypes;\n\nGoogleShareToClassRoom.defaultProps = defaultProps;\n\nexport default GoogleShareToClassRoom;\n","import React, { useState } from 'react';\nimport GoogleShareToClassRoom from '../index';\nimport './styles.css';\n\nfunction App() {\n  const [classroom, setClassroom] = useState({\n    body: 'Example Body',\n    itemType: 'announcement',\n    url: 'https://developers.google.com/classroom',\n    size: 50,\n    title: 'Example Title',\n    theme: 'dark',\n  });\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    const formData = new FormData(e.target);\n\n    setClassroom({\n      body: formData.get('body'),\n      itemType: formData.get('itemType'),\n      url: formData.get('url'),\n      size: Number(formData.get('size')),\n      title: formData.get('title'),\n      theme: formData.get('theme'),\n    });\n  };\n\n  const renderForm = () => (\n    <form onSubmit={onSubmit}>\n      <div className=\"form-group\">\n        <label htmlFor=\"body\">Body</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"body\"\n          name=\"body\"\n          placeholder=\"Enter Body\"\n          defaultValue={classroom.body}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"itemType\">itemType</label>\n        <select\n          className=\"form-control\"\n          id=\"itemType\"\n          name=\"itemType\"\n          defaultValue={classroom.itemType}\n        >\n          <option value=\"announcement\">Announcement</option>\n          <option value=\"assignment\">Assignment</option>\n          <option value=\"material\">Material</option>\n          <option value=\"question\">Question</option>\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"url\">Url</label>\n        <input\n          type=\"url\"\n          className=\"form-control\"\n          id=\"url\"\n          name=\"url\"\n          placeholder=\"Enter url\"\n          defaultValue={classroom.url}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"size\">Size</label>\n        <input\n          type=\"number\"\n          className=\"form-control\"\n          id=\"size\"\n          name=\"size\"\n          placeholder=\"Enter Size\"\n          defaultValue={classroom.size}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"title\">Title</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"title\"\n          name=\"title\"\n          placeholder=\"Enter Title\"\n          defaultValue={classroom.title}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"theme\">Theme</label>\n        <select\n          className=\"form-control\"\n          id=\"theme\"\n          name=\"theme\"\n          defaultValue={classroom.theme}\n        >\n          <option value=\"classic\">Classic</option>\n          <option value=\"light\">Light</option>\n          <option value=\"dark\">Dark</option>\n        </select>\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n    </form>\n  );\n\n  return (\n    <div className=\"pageContainer\">\n      <p className=\"h1\">Google Classroom Share</p>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col\">\n            {renderForm()}\n          </div>\n\n          <div className=\"col\">\n            <GoogleShareToClassRoom\n              body={classroom.body}\n              itemType={classroom.itemType}\n              url={classroom.url}\n              size={classroom.size}\n              title={classroom.title}\n              theme={classroom.theme}\n              onShare={(type) => console.log(`GoogleShareToClassRoom:${type}`)}\n              onShareComplete={() => console.log('GoogleShareToClassRoom:onShareComplete')}\n              onShareStart={() => console.log('GoogleShareToClassRoom:onShareStart')}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}